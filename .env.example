# Idealista Scraper Configuration Template
# Copy this file to .env and customize your settings

# Base URL for Idealista
BASE_URL=https://www.idealista.com

# Search parameters
CITY=valencia
PROVINCE=valencia

# Price filter (in euros)
# Leave empty to not filter by price
MAX_PRICE=1500

# Bedrooms filter (comma-separated)
# Options: dos, tres, cuatro-cinco-o-mas
# Example: dos,tres (for 2 or 3 bedrooms)
# Leave empty to not filter by bedrooms
BEDROOMS=dos,tres,cuatro-cinco-o-mas

# Bathrooms filter (comma-separated)
# Options: dos, tres-o-mas
# Example: dos,tres-o-mas (for 2 or 3+ bathrooms)
# Leave empty to not filter by bathrooms
BATHROOMS=dos,tres-o-mas

# Amenities (true/false for each)
AIR_CONDITIONING=true
ALLOW_PETS=true

# Publication date filter
# Options: ultimas-24-horas, ultima-semana, ultimos-15-dias
# Leave empty to not filter by date
PUBLISHED_FILTER=ultimas-24-horas

# Rental type
# Options: alquiler-de-larga-temporada, alquiler-de-temporada
# Leave empty to include all rental types
RENTAL_TYPE=alquiler-de-larga-temporada

# Sort order
# Options: fecha-publicacion-desc, precios-asc, precios-desc
SORT_ORDER=fecha-publicacion-desc

# Scraper settings
MAX_PAGES=3
REQUEST_DELAY_MIN=3000
REQUEST_DELAY_MAX=5000

# Output files
OUTPUT_JSON=apartments.json
OUTPUT_CSV=apartments.csv

# ============================================
# MONITORING & NOTIFICATIONS
# ============================================

# MongoDB Configuration (Free tier: MongoDB Atlas)
# Get your connection string from: https://www.mongodb.com/cloud/atlas
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
MONGODB_DATABASE=idealista_scraper

# Twilio WhatsApp Configuration
# Sign up at: https://www.twilio.com
# Get your credentials from: https://console.twilio.com
TWILIO_ACCOUNT_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here

# WhatsApp phone numbers (use E.164 format)
# Twilio Sandbox number (for testing): +14155238886
# Your WhatsApp number(s) - must join sandbox first
# SINGLE NUMBER:
TWILIO_WHATSAPP_FROM=+14155238886
TWILIO_WHATSAPP_TO=+5511999999999

# MULTIPLE NUMBERS (comma-separated, no spaces):
# TWILIO_WHATSAPP_TO=+5511999999999,+5521988888888,+34612345678
# Note: Each number must have joined the Twilio sandbox

# Monitor Settings
# Cron schedule format: minute hour day month weekday
# Examples:
#   */10 * * * *  - Every 10 minutes
#   */5 * * * *   - Every 5 minutes
#   0 * * * *     - Every hour
#   0 9-18 * * *  - Every hour between 9 AM and 6 PM
MONITOR_SCHEDULE=*/10 * * * *

# Notification mode: 'individual' or 'summary'
# individual: Send separate message for each new apartment
# summary: Send one message with all new apartments
NOTIFICATION_MODE=summary
