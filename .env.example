# Idealista Scraper Configuration Template
# Copy this file to .env and customize your settings

# Base URL for Idealista
BASE_URL=https://www.idealista.com

# Search parameters
CITY=valencia
PROVINCE=valencia

# Price filter (in euros)
# Leave empty to not filter by price
MAX_PRICE=1500

# Bedrooms filter (comma-separated)
# Options: dos, tres, cuatro-cinco-o-mas
# Example: dos,tres (for 2 or 3 bedrooms)
# Leave empty to not filter by bedrooms
BEDROOMS=dos,tres,cuatro-cinco-o-mas

# Bathrooms filter (comma-separated)
# Options: dos, tres-o-mas
# Example: dos,tres-o-mas (for 2 or 3+ bathrooms)
# Leave empty to not filter by bathrooms
BATHROOMS=dos,tres-o-mas

# Amenities (true/false for each)
AIR_CONDITIONING=true
ALLOW_PETS=true

# Publication date filter
# Options: ultimas-24-horas, ultima-semana, ultimos-15-dias
# Leave empty to not filter by date
PUBLISHED_FILTER=ultimas-24-horas

# Rental type
# Options: alquiler-de-larga-temporada, alquiler-de-temporada
# Leave empty to include all rental types
RENTAL_TYPE=alquiler-de-larga-temporada

# Sort order
# Options: fecha-publicacion-desc, precios-asc, precios-desc
SORT_ORDER=fecha-publicacion-desc

# Scraper settings
MAX_PAGES=3
REQUEST_DELAY_MIN=3000
REQUEST_DELAY_MAX=5000

# ============================================
# SCRAPE.DO API CONFIGURATION
# ============================================
# Get your token from: https://www.scrape.do/dashboard
SCRAPE_DO_TOKEN=your_scrape_do_token_here
SCRAPE_DO_API_URL=http://api.scrape.do

# ============================================
# MONITORING & NOTIFICATIONS
# ============================================

# Enable/Disable Features
# Set to 'true' to enable, 'false' to disable
USE_DATABASE=true
USE_EMAIL_NOTIFICATIONS=true

# MongoDB Configuration (Free tier: MongoDB Atlas)
# Get your connection string from: https://www.mongodb.com/cloud/atlas
# Required only if USE_DATABASE=true
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
MONGODB_DATABASE=idealista_scraper

# Email Notification Configuration
# For Gmail: Use App Password (not your regular password)
# How to create Gmail App Password:
#   1. Go to Google Account settings
#   2. Security > 2-Step Verification (must be enabled)
#   3. App passwords > Generate
# Required only if USE_EMAIL_NOTIFICATIONS=true
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password-here

# Email recipients (comma-separated, no spaces)
# SINGLE EMAIL:
EMAIL_TO=recipient@example.com
# MULTIPLE EMAILS (comma-separated, no spaces):
# EMAIL_TO=email1@example.com,email2@example.com,email3@example.com

# Optional: Custom SMTP settings (if not using gmail)
# Uncomment and configure if using a different email provider
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_SECURE=false

# Monitor Settings
# Cron schedule format: minute hour day month weekday
# Examples:
#   */10 * * * *  - Every 10 minutes
#   */5 * * * *   - Every 5 minutes
#   0 * * * *     - Every hour
#   0 9-18 * * *  - Every hour between 9 AM and 6 PM
MONITOR_SCHEDULE=*/30 * * * *

# Number of pages to scrape during monitoring
# Set to 1 for only the first page (fastest, recommended for frequent checks)
# Set higher for more comprehensive monitoring (slower)
MONITOR_MAX_PAGES=1

# Notification mode: 'individual' or 'summary'
# individual: Send separate message for each new apartment
# summary: Send one message with all new apartments
NOTIFICATION_MODE=summary
